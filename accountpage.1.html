<!DOCTYPE html>
<html>

<head>
  <title>Account Settings</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
</head>

<body ng-app="myApp" ng-controller="myCtrl">

  <ul class="nav justify-content-center bg-dark bg-gradient text-light">
    <li class="nav-item">
      <a class="nav-link active" aria-current="page" href="homepage.html">Home</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" href="accountpage.1.html">Set Cookies</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" href="logout.html">Log Out</a>
    </li>
  </ul>


  <div class="container">
    <h1 class="text-center my-4">Account Settings</h1>
    <form>
      <div class="mb-3">
        <label for="name" class="form-label">Name:</label>
        <input type="text" class="form-control" id="name" ng-model="name" required>
      </div>
      <div class="mb-3">
        <label for="email" class="form-label">Email:</label>
        <input type="email" class="form-control" id="email" ng-model="email" required>
      </div>
      <div class="mb-3">
        <label for="phone" class="form-label">Phone:</label>   
        <input type="text" class="form-control" id="phone" ng-model="phone" required>
      </div>
      <button type="button" class="btn btn-primary" ng-click="saveDetails()">Save Details</button>
    </form>

    <h2 class="mt-4 text-center">User Details</h2>
    <div class="card mx-auto">
      <div class="card-body">
        <p class="card-text"><strong>Name:</strong> {{savedName}}</p>
        <p class="card-text"><strong>Email:</strong> {{savedEmail}}</p>
        <p class="card-text"><strong>Phone:</strong> {{savedPhone}}</p>
      </div>
    </div>
    <button type="button" class="btn btn-danger mt-4" ng-click="clearCookies()">Clear Cookies</button>
  </div>


 <!--angular stuff -->
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.6.1/angular.min.js">
  </script>
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.6.1/angular-cookies.js">
  </script>


  <script>
    const app = angular.module('myApp', ['ngCookies']);
    app.controller('myCtrl', function ($scope, $cookies) {
      $scope.saveDetails = function () {
        $cookies.put('name', $scope.name);
        $cookies.put('email', $scope.email);
        $cookies.put('phone', $scope.phone);
        $scope.savedName = $cookies.get('name');
        $scope.savedEmail = $cookies.get('email');
        $scope.savedPhone = $cookies.get('phone');
      }

      $scope.clearCookies = function () {
        $cookies.remove('name');
        $cookies.remove('email');
        $cookies.remove('phone');
        $scope.savedName = null;
        $scope.savedEmail = null;
        $scope.savedPhone = null;
      }

      $scope.savedName = $cookies.get('name');
      $scope.savedEmail = $cookies.get('email');
      $scope.savedPhone = $cookies.get('phone');
    });
  </script>

  <!-- bootstrap cdn link -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe"
    crossorigin="anonymous"></script>
</body>

</html>